<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="robots" content="all" />
<title>自适应按钮</title>
<link rel="stylesheet" type="text/css" href="/css/style.css" />
<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" type="text/css" href="/css/ie.css" />
<![endif]-->
</head>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-741276-12']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
})();
</script>
<body>

	<div class="container group">
		
  <div class="primary">
    <header>
      <h1>余果，腾讯ISUX前端开发设计师。
      </h1>
      <nav>
        <ul>
        <li>
            <a href="http://yuguo.us/">首页</a>
        </li>
        <li>
            <a href="http://yuguo.us/about.html">About me</a>
        </li>
        </ul>
      </nav>
    </header>

	<div class="ads">

        <h2>Categories</h2>
      <ul class="tag-box inline">
          
          


  
     
    	<li><a href="http://yuguo.us/categories.html#服务器-ref">
    		<span class="cat-name">服务器</span> <span class="cat-number">3</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#水-ref">
    		<span class="cat-name">水</span> <span class="cat-number">25</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#引用-ref">
    		<span class="cat-name">引用</span> <span class="cat-number">3</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#周记-ref">
    		<span class="cat-name">周记</span> <span class="cat-number">34</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#做需求-ref">
    		<span class="cat-name">做需求</span> <span class="cat-number">31</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#产品-ref">
    		<span class="cat-name">产品</span> <span class="cat-number">10</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#活动-ref">
    		<span class="cat-name">活动</span> <span class="cat-number">4</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#css-ref">
    		<span class="cat-name">css</span> <span class="cat-number">18</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#javascript-ref">
    		<span class="cat-name">javascript</span> <span class="cat-number">11</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#前端-ref">
    		<span class="cat-name">前端</span> <span class="cat-number">10</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#哲学-ref">
    		<span class="cat-name">哲学</span> <span class="cat-number">25</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#书-ref">
    		<span class="cat-name">书</span> <span class="cat-number">40</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#项目管理-ref">
    		<span class="cat-name">项目管理</span> <span class="cat-number">2</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#cms-ref">
    		<span class="cat-name">cms</span> <span class="cat-number">13</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#编程-ref">
    		<span class="cat-name">编程</span> <span class="cat-number">8</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#开源-ref">
    		<span class="cat-name">开源</span> <span class="cat-number">9</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#gtd-ref">
    		<span class="cat-name">gtd</span> <span class="cat-number">3</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#php-ref">
    		<span class="cat-name">php</span> <span class="cat-number">5</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#ios-ref">
    		<span class="cat-name">ios</span> <span class="cat-number">16</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#linux-ref">
    		<span class="cat-name">linux</span> <span class="cat-number">2</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#数据库-ref">
    		<span class="cat-name">数据库</span> <span class="cat-number">1</span>
    	</a></li>
     
    	<li><a href="http://yuguo.us/categories.html#nodejs-ref">
    		<span class="cat-name">nodejs</span> <span class="cat-number">2</span>
    	</a></li>
    
  


      </ul>

      <div class="fusionads">
        <h2>我的APP</h2>

        <span class="fusionentire">
          <a href="https://itunes.apple.com/cn/app/lu-da-shi-for-ying-xiong-lian/id646299086?mt=8" title="撸大师">
            <img src="/files/2013/07/appstore.png" alt="撸大师" style="width:200px;"/>
          </a>
          <span class="fusiontext">
              撸大师是一款快速查看英雄联盟攻略的iPhone APP。
          </span>
        </span>
        </div><!-- .fusionads -->
      
      <div class="fusionads">
        <h2>我的书</h2>

        <span class="fusionentire">
          <a href="http://yuguo.us/weblog/isux-and-smashing-book/" title="众妙之门3">
            <img src="http://yuguo.us/files/2013/04/sm3-cover.jpg" alt="众妙之门3"/>
          </a>
          <span class="fusiontext">
                《众妙之门3》是一本关于HTML5、CSS3、新JS API、Retina屏、Web App、基于Responsive Design的工作流……的设计书，是《Smashing Book #3 Redesign The Web》的中文译本。
          </span>
        </span>
        <p><a href="http://yuguo.us/weblog/isux-and-smashing-book/" title="众妙之门3">介绍</a> | <a href="http://product.dangdang.com/product.aspx?product_id=23212058">当当购买</a></p>
      </div><!-- .fusionads -->

      <div class="fusionads">
        <h2>我的专栏</h2>

        <span class="fusionentire">
          <a href="http://read.douban.com/column/226077/" title="谈谈全栈工程师">
            <img src="http://yuguo.us/files/2014/03/columns.jpg" alt="谈谈全栈工程师" style="margin:0; float: left; padding: 0 10px 10px 0;"/>
          </a>
          <span class="fusiontext">
                随着web服务的发展，对全栈工程师的需求渐渐增加。本专栏会从前端工程师入手，谈谈全栈工程师的历史、所需技能、未来发展方向等话题。
              <a href="http://read.douban.com/column/226077/">阅读</a>
          </span>
        </span>
        </div><!-- .fusionads -->

    </div><!-- .ads -->

  </div><!-- .primary -->

        <div class="content single-post">
	      	<h1>自适应按钮</h1>
	      	<span class="post-date">2010年 10月 28日</span>

	      	<p>按钮大小或者宽度根据内容而自适应主要技术难点在于_圆角边框_和_渐变背景_在所有浏览器的兼容。本文分两部分来说明各种解决方案。</p>

<p>本文不是所有的解决方案大全，只是选取介绍其中较优的方式。一些空标签和嵌套过多，或者HTTP请求过多的方法也能完成任务，但这些糟糕的方法即使介绍出来也是没有人使用的，就不浪费时间了。
<a href="http://yuguo.us/wp-content/blogs.dir/5/files/2010/10/demo/">所有例子的DEMO在这里。</a>
关于圆角的、渐变的按钮，常用的技术方案有：</p>

<ul>
<li><p>使用图片</p>

<ul>
<li>非自适应的图片</li>
<li>自适应的图片</li>
</ul>
</li>
<li>用嵌套的div+border模拟</li>
<li>用CSS3渐进增强</li>
</ul>


<h2>非自适应的图片</h2>

<p>bt-x中的x为按钮中文字的个数,代码如下：</p>

<pre><code>&amp;lt;button class="bt-2"&amp;gt;确认&amp;lt;/button&amp;gt;
</code></pre>

<p>CSS代码：</p>

<pre><code>.bt-2,

.bt-3,

.bt-4{text-align:center;border:0 none;background-color:transparent;padding:0 .2em;margin-right:8px;height:21px;line-height:21px;background-image:url(btn.png);background-repeat:no-repeat;cursor:pointer;}

.bt-2{width:46px;background-position:0 -24px;}

.bt-3{width:57px;background-position:0 -48px;}

.bt-4{width:69px;background-position:0 -72px;}
</code></pre>

<p>Tips：</p>

<ol>
<li>使用png-8的png图片，而不是png24/32（不同的浏览器可能会有差异，实际上他们是一样的），这样就可以直接支持IE6了。</li>
<li>按钮背景的问题也顺便解决了。注意这个方法中的按钮背景是不用平铺的，所以可以放在雪碧图中的任意地方。可以说是“sprite-friendly”。</li>
</ol>


<h2>自适应的图片</h2>

<p>如果希望按钮能够随着文字增多而自动拉长，那么思路就是按钮只能有一个class比如button，而不是像上一例那样有多个class。这时候最优的解决方案是利用CSS3做圆角。Wordpress的后台button就是一个很好的例子。</p>

<pre><code>.button {background:#f2f2f2 url(http://xx.png) repeat-x;text-shadow:#fff 0 1px 0;

cursor:pointer;border-width:1px;border-style:solid;-moz-border-radius:11px;-khtml-border-radius:11px;-webkit-border-radius:11px;border-radius:11px;

}
</code></pre>

<p>效果在Chrome和Firefox下是相当好看的，在IE下的方方正正+渐变也OK。</p>

<h2>用嵌套的div+border模拟</h2>

<p>这是根据Google的按钮思路来的，详情见<a href="http://www.99css.com/">YT</a>的<a href="http://www.99css.com/?p=146">自适应圆角</a>，很专业的分析文章。</p>

<h2>利用CSS3做的背景色渐变</h2>

<pre><code>background: #ccc; background: -moz-linear-gradient(top, #fff, #d2d2d2);background: -webkit-gradient(linear, 0 0, 0 100%, from(#fff), to(#d2d2d2));
</code></pre>

<p>这个属性在按钮制作中用的比较少，最主要的原因是，不能很好地跟边框搭配使用。因为新技术的使用需要掌控一个平衡，如果同时使用CSS3做圆角和渐变背景，对于不支持CSS3的浏览器也就是IE用户来说是很大的伤害。</p>

	      	<p class='previous-next-nav'><a href="/weblog/week-15/" class="next">第十五周流水记 &rarr;</a>
	      	<a href="/weblog/risky-strategy-and-safe-strategy/" class="previous">&larr; 冒险策略和安全策略</a>
	      	</p>
	      	
	      	
			    <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'yuguo'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
        </div>

	</div>

	<p class="copyright">&copy; 2009&#8201;&ndash;&#8201;2014 Yuguo. Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> and host by <a href="https://github.com/yuguo">Github</a>。
</p>

</body>
</html>