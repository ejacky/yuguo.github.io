<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="robots" content="all" />
<title>iOS开发随笔-2</title>
<link rel="stylesheet" type="text/css" href="/css/style.css" />
<!--[if (lt IE 9) & (!IEMobile)]>
<link rel="stylesheet" type="text/css" href="/css/ie.css" />
<![endif]-->
</head>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-741276-12']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
})();
</script>
<body>


    <div class="single-post">
        <h1>iOS开发随笔-2</h1>
        <span class="post-meta"><a href="http://yuguo.us">Yuguo</a> 2012年 12月 18日</span>

        <h2>关于segue</h2>


<p>segue就是在storyboard中描述两个场景（scene）的过渡关系的一个对象。</p>

<p>比如在tableview和collectionview中常见的一种模式就是点击列表页中的一项之后“跳转”到详情页，这个“跳转”的逻辑和动画就是一个segue，实现方法也很简单，再tableview或者collectionview中实现prepareForSegue:sender方法即可，代码示例：
<a href="https://gist.github.com/f0cd3f56050c30fc4a40">https://gist.github.com/f0cd3f56050c30fc4a40</a>
第一步，我们需要知道被点击的条目的一些信息，比如是第几个tableCell被点击了，或者第几个collectionCell被点击了：</p>

<p>tableCell：</p>

<pre>// get the selected index

NSInteger selectedIndex = [[self.tableView indexPathForSelectedRow] row];</pre>


<p>collectionCell</p>

<pre>NSInteger *selectedIndex = [[[self.collectionView indexPathsForSelectedItems] objectAtIndex:0] row];</pre>


<p>第二步，基本上我们还需要传递一些数据给详情页，告诉详情页是第几个条目被点击了，这个条目上的一些信息是啥，可以使用这个模式：</p>

<pre><code>DetailViewController *detailViewController = [segue destinationViewController]; //获取目标控制器 detailViewController.image = image; //数据传递</code></pre>


<h2>关于数组</h2>


<p>数组有两种，一种是不可变的NSArray，另一种是可变的NSMutableArray。</p>

<p>对于NSArray，只能存储objective-c对象，而不能存储c语言中的基本数据类型，如int，float，或者NSArray中的随机指针。同时你不能用NSArray来存储nil。因为他要用nil放在最末尾，来代表结束，下面的例子你会看到。</p>

<pre>NSArray * array;

array = [NSArray arrayWithObjects: @"one", @"two", @"three", nill];

for(int i=0; i&lt;[array count]; i++)

{

    NSLog(@"index %d has %@.", i , [array objectAtIndex: i ]);

}</pre>


<p>NSArray创建的是不可变数组，一旦你用特定数量的对象创建了一个数组，那么他就固定下来了：你既不能添加也不能删除人和元素。当然，数组中的对像是可以改变的，但数组对象一直不变。</p>

<p>NSMutableArray是NSArray的补充类，他所创建的是一个可变数组，可以随意的添加和删除数组中的元素。NSMutableArray通过方法arrayWithCapacity来创建新的可变数组，但这里的数组容量只是一个参考，不会真的限制数组的大小，它是为了能够对代码进行优化而存在的，也不会预写入数组。</p>

<pre>NSMutableArray * array;

array = [NSMutableArray arrayWithCapacity:9];

for (int i=0; i&lt;4; i++){

    Tire * tire = [Tire new];

    [array addObject: tire];

}

[array removeObjectAtIndex:1]</pre>


<p>NSMutableArray使用addObject: 来在末尾添加对象；用removeObjectAtIndexx: 来删除指定索引处的对象，删除对象后，被删除对象后面的数组元素被前移来填补空缺。</p>

        <p class='previous-next-nav'><a href="/weblog/2012-end/" class="next">2012总结 &rarr;</a>
        <a href="/weblog/ios-develop/" class="previous">&larr; iOS开发随笔</a>
        </p>


            <div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'yuguo'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    
    </div>

	<p class="copyright">&copy; 2009&#8201;&ndash;&#8201;2014 Yuguo. Powered by <a href="https://github.com/mojombo/jekyll">Jekyll</a> and host by <a href="https://github.com/yuguo">Github</a>。
</p>

</body>
</html>